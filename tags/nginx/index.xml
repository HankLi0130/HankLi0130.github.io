<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>NGINX on Hank Li</title><link>https://hankli0130.github.io/tags/nginx/</link><description>Recent content in NGINX on Hank Li</description><generator>Hugo</generator><language>en-ca</language><lastBuildDate>Mon, 05 Jun 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://hankli0130.github.io/tags/nginx/index.xml" rel="self" type="application/rss+xml"/><item><title>UDP load balancing using NGINX</title><link>https://hankli0130.github.io/post/2023/06/05/nginx_udp_load_balancing/</link><pubDate>Mon, 05 Jun 2023 00:00:00 +0000</pubDate><guid>https://hankli0130.github.io/post/2023/06/05/nginx_udp_load_balancing/</guid><description>Setup NGINX as an UDP load balancer TCP and UDP Load Balancing
How to do it? Configuration - nginx.conf I used default nginx.conf and added stream block.
user www-data; worker_processes auto; pid /run/nginx.pid; include /etc/nginx/modules-enabled/*.conf; events { worker_connections 768; # multi_accept on; } stream { upstream leaf_servers { server leaf1.teontest.site:1443; # UDP port server 1 server leaf2.teontest.site:1443; # UDP port server 2 } server { listen 1443 udp; # listen UDP port proxy_pass leaf_servers; } } http { ## # Basic Settings ## sendfile on; tcp_nopush on; types_hash_max_size 2048; # server_tokens off; # server_names_hash_bucket_size 64; # server_name_in_redirect off; include /etc/nginx/mime.</description></item></channel></rss>